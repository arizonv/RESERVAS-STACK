{% extends "layout.html" %}

{% block title %}
registro | {{ block.super }}
{% endblock %}

{% load static %}
{% block head %}
<link rel="stylesheet" href="{% static 'css/register/register.css' %}" type="text/css">
{% endblock %}

{% block container %}

<div class="wrapper">
    <div id="formContent">
        <h2>Registro de Usuario</h2>
        <form method="post">
            {% csrf_token %}
            <label for="username">Nombre de usuario:</label>
            {{ form.username }}
            {% if form.username.errors %}
                <div class="error-message">
                    {% for error in form.username.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% endif %}
            <label for="name">Nombre:</label>
            {{ form.name }}
            {% if form.name.errors %}
                <div class="error-message">
                    {% for error in form.name.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% endif %}
            <label for="email">Correo electrónico:</label>
            {{ form.email }}
            {% if form.email.errors %}
                <div class="error-message">
                    {% for error in form.email.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% endif %}
            <label for="password1">Contraseña:</label>
            <div class="password-container">
            {{ form.password1 }}
            <span class="password-toggle"><i class="fas fa-eye"></i></span>
            </div>
            {% if form.password1.errors %}
                <div class="error-message">
                    {% for error in form.password1.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% endif %}
            <label for="password2">Confirmar contraseña:</label>
            <div class="password-container">
            {{ form.password2 }}
            <span class="password-toggle"><i class="fas fa-eye"></i></span>
            </div>
            {% if form.password2.errors %}
                <div class="error-message">
                    {% for error in form.password2.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% endif %}
            <button type="submit">Registrarse</button>
        </form>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<script>
$(document).ready(function() {
  $('.password-toggle').click(function() {
    var passwordInput = $(this).prev('input');
    var passwordFieldType = passwordInput.attr('type');

    if (passwordFieldType === 'password') {
      passwordInput.attr('type', 'text');
      $(this).find('i').removeClass('fa-eye').addClass('fa-eye-slash');
    } else {
      passwordInput.attr('type', 'password');
      $(this).find('i').removeClass('fa-eye-slash').addClass('fa-eye');
    }
  });
});
</script>

{% endblock %}
